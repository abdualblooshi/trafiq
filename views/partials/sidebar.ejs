<div class="sidebar fixed h-full overflow-auto w-64 z-40">
  <div class="p-4">
    <h1 id="trafiq" class="text-2xl font-bold mb-6 text-indigo-300">TrafiQ</h1>

    <!-- OVERVIEW section -->
    <div class="mb-6">
      <h2 class="text-slate-400 text-sm mb-2 uppercase tracking-wider font-semibold">OVERVIEW</h2>
      <div class="space-y-2">
        <a href="/" class="flex items-center p-2 hover:bg-slate-700 rounded text-slate-300 hover:text-white transition-colors duration-200 <%= active === 'home' ? 'bg-slate-700 text-white' : '' %>">
          <i class="fas fa-home mr-2"></i>
          Dashboard
        </a>
        <a href="/story-map" class="flex items-center p-2 hover:bg-slate-700 rounded text-slate-300 hover:text-white transition-colors duration-200 <%= active === 'story-map' ? 'bg-slate-700 text-white' : '' %>">
          <i class="fas fa-map mr-2"></i>
          Story Map
        </a>
      </div>
    </div>

    <!-- ANALYSIS section -->
    <div class="mb-6">
      <h2 class="text-slate-400 text-sm mb-2 uppercase tracking-wider font-semibold">ANALYSIS</h2>
      <div class="space-y-2">
        <a href="/trends" class="flex items-center p-2 hover:bg-slate-700 rounded text-slate-300 hover:text-white transition-colors duration-200 <%= active === 'trends' ? 'bg-slate-700 text-white' : '' %>">
          <i class="fas fa-chart-line mr-2"></i>
          Trends
        </a>
        <a href="/time-dis" class="flex items-center p-2 hover:bg-slate-700 rounded text-slate-300 hover:text-white transition-colors duration-200 <%= active === 'time-dis' ? 'bg-slate-700 text-white' : '' %>">
          <i class="fas fa-fire mr-2"></i>
          Time Distribution
        </a>
        <a href="/incidents" class="flex items-center p-2 hover:bg-slate-700 rounded text-slate-300 hover:text-white transition-colors duration-200 <%= active === 'incidents' ? 'bg-slate-700 text-white' : '' %>">
          <i class="fas fa-car-crash mr-2"></i>
          Incidents (Vega-Lite)
        </a>
        <a href="/incidents-circle" class="flex items-center p-2 hover:bg-slate-700 rounded text-slate-300 hover:text-white transition-colors duration-200 <%= active === 'incidents-circle' ? 'bg-slate-700 text-white' : '' %>">
          <i class="fas fa-circle mr-2"></i>
          Incidents Circle Packing (Vega-Lite)
        </a>
      </div>
    </div>

    <!-- DATA section -->
    <div class="mb-6">
      <h2 class="text-slate-400 text-sm mb-2 uppercase tracking-wider font-semibold">DATA</h2>
      <div class="space-y-2">
        <a href="/data-table" class="flex items-center p-2 hover:bg-slate-700 rounded text-slate-300 hover:text-white transition-colors duration-200 <%= active === 'data-table' ? 'bg-slate-700 text-white' : '' %>">
          <i class="fas fa-table mr-2"></i>
          Data Table
        </a>
      </div>
    </div>

    <!-- SETTINGS section -->
    <div class="mb-6">
      <h2 class="text-slate-400 text-sm mb-2 uppercase tracking-wider font-semibold">SETTINGS</h2>
      <div class="space-y-2">
        <button id="accessibility-settings" class="flex items-center p-2 hover:bg-slate-700 rounded w-full text-left text-slate-300 hover:text-white transition-colors duration-200">
          <i class="fas fa-universal-access mr-2"></i>
          Accessibility
        </button>
        <button id="map-settings" class="flex items-center p-2 hover:bg-slate-700 rounded w-full text-left text-slate-300 hover:text-white transition-colors duration-200">
          <i class="fas fa-map-marked-alt mr-2"></i>
          Map
        </button>
        <!-- Theme Toggle -->
        <div class="theme-toggle hidden border-t border-gray-700 pt-4">
          <label class="flex items-center justify-between">
            <span class="text-sm font-medium">Theme</span>
            <button id="theme-toggle-btn" class="relative inline-flex items-center h-6 rounded-full w-11 bg-gray-600 transition-colors" aria-label="Toggle theme">
              <span class="flex items-center justify-center w-5 h-5 rounded-full bg-white transform transition-transform">
                <i class="fas fa-sun text-yellow-500"></i>
                <i class="fas fa-moon text-blue-500 hidden"></i>
              </span>
            </button>
          </label>
          <p class="text-xs text-gray-400 mt-1">Switch between light and dark themes</p>
        </div>
      </div>
    </div>
  </div>
</div>